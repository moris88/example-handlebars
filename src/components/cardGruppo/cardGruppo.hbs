<!-- COMPONENT CARDGRUPPO HTML -->

<div class="w-full bg-white rounded-2xl flex flex-col lg:flex-row justify-between gap-10 p-6 border hover:border-primary border-white hover:shadow-lg cursor-pointer" onclick="onclickGruppo(event, {{json this}})">
  <div class="w-2/12 hidden lg:block">
    <img
      src="{{image.src}}"
      alt="{{image.alt}}"
      class="w-full min-h-28 max-h-28 object-cover rounded-2xl"
    />
  </div>
  <div class="lg:w-8/12 w-full flex justify-between flex-col">
    <div class="flex items-center gap-10">
        <div>
            <p class="text-primary text-2xl font-bold">{{title}}</p>
            <p class="font-bold text-base">{{subtitle}}</p>
        </div>
        <div class="flex flex-wrap gap-2">
            {{#each tags as |tag|}}
            {{> chipComponent type="primary" text=tag}}
            {{/each}}
        </div>
    </div>
    <p class="text-md text-ellipsis overflow-hidden">{{description}}</p>
  </div>
  <div class="lg:w-2/12 flex flex-col items-end justify-around">
      {{#if (equal subscriber "partecipante")}}
      <div class="flex gap-2 items-center">
          {{> avatarListComponent subscribres=subscribers}}
      </div>
      {{else}}
      <p class="text-nowrap"><b>+{{subscribers}}</b> partecipanti</p>
      {{/if}}
    {{#if (equal subscriber "non partecipante")}}
    <button class="btn btn-secondary" onclick={{onclickPartecipa}}>Partecipa al gruppo</button>
    {{else}}
        {{#if (equal subscriber "partecipante")}}
            <span class="flex gap-2 text-green-700 bg-green-100 border border-green-600 rounded-full py-1 px-4">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                </svg>
                <span>Partecipante</span>
            </span>
        {{else}}
            <button class="btn btn-wait flex gap-2 items-center">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clock" viewBox="0 0 16 16">
                <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z"/>
                <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0"/>
                </svg>
                Richiesta di partecipazione inviata
            </button>
        {{/if}}
    {{/if}}
  </div>
</div>

<script />